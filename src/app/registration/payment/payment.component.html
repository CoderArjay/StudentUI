 <section>
<div class="container mt-3">
  <div class="row">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb ">
        <li class="breadcrumb-item ">
          <a class="text-primary disabled">Personal Info</a>
        </li>
        <li class="breadcrumb-item active text-dark" aria-current="page">Payment</li>
      </ol>
    </nav>
    
    <div class="col-md image mb-3">
      <div class="card header">
        <img src="/nlac1.jpg" 
             class="card-img" 
             alt="Northern Luzon Adventist College Academy" 
             style="object-fit: cover; height: 30vh;">
        <div class="card-img-overlay d-flex flex-column justify-content-center align-items-center">
          <h5 class="card-title text-white"><strong>Northern Luzon Adventist College Academy</strong></h5>
          <h6 class="card-text text-white">The School that Prepares for Life</h6>
        </div>
      </div>
      <div class="col-md ">
      <div class="card-body enrollment_proccess">
          <blockquote class="blockquote m-3" style="border-bottom: 2px solid; border-bottom-color: black;">
            <strong>Enrollment Process</strong>
          </blockquote>
          
          <div class="list-group">
            <a class="list-group-item list-group-item-action">
              <i class="bi bi-check-circle-fill text-success h3 mx-2" style="float: left;"></i>
              <strong class="text-secondary">Personal Information</strong>: Fill up the required fields in the Personal Information form, including your full name, date of birth, gender, address, and contact information. Ensure all details are accurate to avoid issues later.
            </a>
            
            <a class="list-group-item list-group-item-action">
              <i class="bi bi-check-circle-fill text-success h3 mx-2" style="float: left;"></i>
              <strong class="text-secondary">Enrollment Details</strong>: Provide your enrollment details such as the grade level you are applying for, the strand (if applicable), and any previous school information. This helps us understand your academic background.
            </a>
            
            <a class="list-group-item list-group-item-action">
              <i class="bi bi-3-circle-fill text-warning h3 mx-2" style="float: left;"></i>
              <strong class="text-dark">Payment</strong>: Review the tuition fees and payment options available. Make sure to complete the payment process by the specified deadline to secure your enrollment.
            </a>
            
            <a class="list-group-item list-group-item-action">
              <i class="bi bi-4-circle-fill text-warning h3 mx-2" style="float: left;"></i>
              <strong class="text-secondary">DSF Approval</strong>: Await approval from the Department of Student Affairs (DSF). You may need to provide additional documents or information if requested. Check your email regularly for updates on your application status.
            </a>
            
            <a class="list-group-item list-group-item-action">
              <i class="bi bi-5-circle-fill text-warning h3 mx-2" style="float: left;"></i>
              <strong class="text-secondary">Official Registration</strong>: Wait for the registration decision from the school administration. Follow up as needed to ensure your application is processed in a timely manner. Once approved, you will receive confirmation and further instructions.
            </a>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md mb-3 form-col">
      <div class="student_name mt-2">
        <h4><strong>{{ student?.lname }} {{ student?.fname }} </strong> <span class="badge text-bg-primary">Grade  {{ enrollment?.grade_level }}</span></h4> 
      </div>
      <div class="container">
        <div class="row g-2">
          <div class="col-md">
            <blockquote class="blockquote mt-3" style="border-bottom: 2px solid; border-bottom-color: black;">
              <strong>Payment Details</strong>
            </blockquote>
            <div class="card-body mb-2">
              <table class="tuition-table">
                <tbody *ngIf="tuitionDetails">
                    <tr>
                        <th>Old Account:</th>
                        <td class="text-end">{{ tuitionDetails?.old_account || '0.00' }}</td>
                    </tr>
                    <tr>
                        <th>Tuition Fee:</th>
                        <td class="text-end">{{ tuitionDetails?.tuition || '0.00' }}</td>
                    </tr>
                    <tr>
                        <th>General and Miscellaneous Fees:</th>
                        <td class="text-end">{{ tuitionDetails?.general || '0.00' }}</td>
                    </tr>
                    <tr>
                        <th>Total Tuition and Fees (+old account):</th>
                        <td class="text-end">{{ tuitionDetails?.total_and_fees || '0.00' }}</td>
                    </tr>
                    <tr>
                        <th>Less: ESC</th>
                        <td class="text-end">{{ tuitionDetails?.esc || '0.00' }}</td>
                    </tr>
                    <tr>
                        <th>TOTAL BALANCE</th>
                        <td class="text-end">
                            {{ calculateTotalBalance() | number: '1.2-2' }}
                        </td>
                    </tr>
                    <tr>
                        <th class="text-end">Down Payment</th>
                        <td class="text-end" style="border-bottom: 2px solid; border-bottom-color: black;">
                            {{ tuitionDetails?.req_downpayment || '0.00' }}
                        </td>
                    </tr>
                    <tr class="m-3 justify-content-center align-items-center">
                        <th style="text-align: center;">Down Payment (NO ESC)</th>
                        <td style="text-align: center;">
                            {{ calculateDownPaymentNoEsc() | number: '1.2-2' }}
                        </td>
                    </tr>
                </tbody>
            </table>
            </div>
          </div>
    
          <div class="col-md-12">
            <div class="card border-info mb-3" >
              <div class="card-header text-primary"><i class="bi bi-exclamation-octagon "></i> <strong> For incoming Grade 11,</strong> ESC Certificate can be use as down payment. Those coming from public school no need to pay downpayment.</div>
              <div class="card-body">
                <span class="card-title text-success">Payment could be made through:</span>
                  <ol>
                    <li>School Cashier</li>
                    <p class="card-text fw-bold">7:30-12:00 A.M. (Mon.to.Fri.)<br>
                      7:30-12:00 A.M. | 1:30-5:00 P.M. (Mon.to.Thurs.)
                     </p>
                    <li>Online Payment (To pay online please click the link below)</li>
                    <a class="card-text">Link for Online Payment</a>
                  </ol>
              </div>
              <div class="card-footer d-flex">
                <div class="col-md">
                  <p>You may upload you <strong class="text-success">Bank Deposit Slip</strong> or your <strong class="text-success">ESC Certificate.</strong></p>
                </div>
                <div class="col-md">
                  <div class="card mb-3">
                    <div class="card-body">
                      <div class="d-flex justify-content-between">
                        <label class="card-title h5"><strong>Proof of Payment:</strong></label>
                        <span class="text-primary h4"><i class="bi bi-receipt"></i></span>
                    </div>
                    <form (ngSubmit)="onSubmit()" enctype="multipart/form-data">
                      <div class="d-flex gap-2">
                          <input type="file" id="imageUpload" (change)="onFileChange($event)" class="form-control" accept="image/*" required>
                         
                      </div>

                      <div class="col-md mt-2">
                        <mat-form-field appearance="fill" class="w-100">
                            <mat-label class="text-dark">
                                Amount Paid
                                <span matTooltip="Enter the amount you've been paid" matTooltipPosition="above">
                                    <i class="bi bi-exclamation-circle text-danger"></i>
                                </span>
                            </mat-label>
                            <input matInput type="number" id="amount_paid" name="amount_paid" [(ngModel)]="amount_paid" required>
                        </mat-form-field>
                    </div>

                    <div class="col-md">
                      <mat-form-field appearance="fill" class="w-100">
                          <mat-label class="text-dark">Description</mat-label>
                          <textarea matInput id="description" [(ngModel)]="description" name="description" required></textarea>
                      </mat-form-field>
                  </div>
                  <button class="btn btn-success ms-3 mx-2" type="submit">Submit</button><br>
                  </form>
                    </div>
                  </div>
                </div>
                
                
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</section>